<html>

  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="/static/brython/brython.js"></script>
    <script type="text/javascript" src="/static/brython/brython_stdlib.js"></script>
    <script type="text/javascript" src="/static/material-components-web/material-components-web.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/material-components-web/material-components-web.min.css">
    <link rel="stylesheet" type="text/css" href="/static/material-components-web/theme.css">

    <style type="text/css">
      body {
          margin: 0px;
          padding: 0px;
          overflow:hidden;
      }

      .bci_dashboard,
      .bci_stimuli {
          border: 0px solid;
          border-radius: 0;
      }

      {% if mode == 'stimuli' %}

        .bci_dashboard {
            display: none;
        }

        .bci_stimuli {
            background-color: #f5f5f5;
            width: 100vw;
            height: 100vh;
        }

        .cross {
            background: black;
            height: 40px;
            width: 1px;
            position: absolute;
            left: 50%;
            top: calc(50% - 20px);
        }

        .cross::after {
            background: black;
            content: '';
            height: 1px;
            left: -20px;
            position: absolute;
            top: 20px;
            width: 40px;
        }

        .cross_contrast {
            background: white;
            height: 42px;
            width: 3px;
            position: absolute;
            left: calc(50% - 1px);
            top: calc(50% - 21px);
        }

        .cross_contrast::after {
            background: white;
            content: '';
            height: 3px;
            left: -21px;
            position: absolute;
            top: 20px;
            width: 42px;
        }


      {% elif mode == 'dashboard' %}

        body {
        display: inline-flex;
        }

        .bci_dashboard {
            padding: 15px;
            height: calc(100vh - 30px);
            overflow-x: scroll;
            width: calc(50vw - 15px);
        }

        .bci_stimuli {
            background-color: #f5f5f5;
            border: 1px solid #cccccc;
            border-radius: 2px;
            width: calc(50vw - 15px);
            height: calc(100vh - 4px);
        }


      {% end %}

    </style>

  </head>

  <body onload="brython(1)">
    <script type="text/python">

from bci_framework.api import autoinit

import sys
sys.path.append('/root/')
from main import {{class_}}

arr = {{class_}}()
arr.connect(f'{{port}}')
arr._bci_mode = '{{mode}}'


autoinit()

    </script>

  <div class='cross'></div>
  <div class='cross_contrast'></div>
  </body>

</html>
